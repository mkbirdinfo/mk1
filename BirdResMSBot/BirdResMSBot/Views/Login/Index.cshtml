<link href="https://cdn.botframework.com/botframework-webchat/latest/botchat.css" rel="stylesheet" />
<style>
    .wc-chatview-panel {
        width: 400px;
        height: 500px;
        bottom: 0px;
        right: 0px
    }
    .wc-message-from-bot > .wc-message-content {
        padding: 2px !important;
    }
    .wc-message-from-bot {
        width: 100%;
        max-width: 100%;
    }
    .wc-adaptive-card{
        width:97%;
    }   
</style>
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script src="https://cdn.botframework.com/botframework-webchat/latest/botchat.js"></script>
<div id="webchat">
   
</div>
<script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js"></script>
<script>
     var user = {
         id: '@ViewBag.DeviceId' + '|vk032017|Admin@123',
        name: 'Vikrant'
    };
 var botConnection = new BotChat.DirectLine({
     secret: '1U44NS0Kd64.T4Nx4XIKFND1BXUThQ9I9Ngj_jnFNmSHyKDFapxpyd4',
    });
    var bot = {

        name: 'birdres'
    };

    BotChat.App({
        botConnection: botConnection,
        bot: bot,
        user:user
    }, document.getElementById('webchat'));
    botConnection
        .postActivity({
            from: user,
            name: 'requestWelcomeDialog',
            type: 'event',
            value: ''
        })
        .subscribe(function (id) {
            console.log('Hello!! I am SPARROW, a virtual travel assistant. How can I help you today?');
        });
</script>
<script>
    $('.wc-chatview-panel').hide();
    $(document).ready(function () {
        $('.wc-chatview-panel').css('bottom', '0px').css('right', '0px').css('left', 'auto').css('top', 'auto');
        $('.wc-header>span').text("Sparrow");
        $('.wc-header').append('<button class="btn btn-minimize" style="right:30px;position:absolute ;border:none;" onclick="doToggle();">+</button>')
        $('.wc-header').append('<button class="btn " style="right:0px;position:absolute;border:none;" onclick="closePanel();">x</button>')
        // setInterval(applycss, 5);
        $('.ac-pushButton').parent().css('height', '32');
        var button = '<button class="btn" id="open" style="right:0px;position:absolute;bottom:0px;border:none;" onclick="openPanel();"><img src ="../78049a3327c3666f01c4386fc3eaecf3.jpg" width="50px" height="50px" style="border-radius: 50%;"/></button>';
        $('#webchat').append(button);



    });

    function applycss() {
        $('.format-markdown').css('padding', '8px').parent().parent().parent().css('max-width', '91%');
    }
    function doToggle() {
        console.log('clicked');
        if ($('.btn-minimize').html() == "-") {
            $('.btn-minimize').html("+");
            $('.wc-chatview-panel').css({
                'width': '400px',
                'height': '500px'
            });
        }
        else {
            $('.btn-minimize').html("-");
            $(".wc-chatview-panel").css({
                'width': $(window).width(),
                'height': $(window).height()

            });
        }
      
    }
    function openPanel() {
        $('.wc-chatview-panel').css('display', 'block');
        $('#open').hide();
    }
    function closePanel() {
        $('.wc-chatview-panel').css('display', 'none');
        $('#open').show();
    }
</script>
